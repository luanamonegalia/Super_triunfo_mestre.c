
#include <stdio.h>
#include <string.h>

// Estrutura para representar uma carta
typedef struct {
    char nome[50];
    int populacao;          // em milhões
    float area;             // em km²
    float densidade;        // pessoas por km²
    int pib;                // PIB em bilhões
} Carta;

// Função para exibir o menu de atributos
void exibirMenu(int excluir) {
    printf("Escolha um atributo:\n");
    if (excluir != 1) printf("1. População\n");
    if (excluir != 2) printf("2. Área\n");
    if (excluir != 3) printf("3. Densidade Demográfica\n");
    if (excluir != 4) printf("4. PIB\n");
    printf("Escolha a opção: ");
}

// Função para obter o valor de um atributo da carta
float obterValor(Carta c, int atributo) {
    switch (atributo) {
        case 1: return c.populacao;
        case 2: return c.area;
        case 3: return c.densidade;
        case 4: return c.pib;
        default: return 0;
    }
}

// Função para obter o nome do atributo
const char* nomeAtributo(int atributo) {
    switch (atributo) {
        case 1: return "População";
        case 2: return "Área";
        case 3: return "Densidade Demográfica";
        case 4: return "PIB";
        default: return "";
    }
}

// Função para comparar dois valores com regra especial para densidade
int comparar(int atributo, float valor1, float valor2) {
    if (atributo == 3) // Densidade Demográfica: menor vence
        return (valor1 < valor2) ? 1 : (valor1 > valor2) ? -1 : 0;
    else
        return (valor1 > valor2) ? 1 : (valor1 < valor2) ? -1 : 0;
}

int main() {
    // Cartas pré-definidas
    Carta carta1 = {"Brasil", 211, 8516.0, 24.7, 1800};
    Carta carta2 = {"Argentina", 44, 2780.0, 15.8, 500};

    int atributo1, atributo2;
    
    // Escolha do primeiro atributo
    do {
        exibirMenu(0);
        scanf("%d", &atributo1);
    } while (atributo1 < 1 || atributo1 > 4);

    // Escolha do segundo atributo, excluindo o primeiro
    do {
        exibirMenu(atributo1);
        scanf("%d", &atributo2);
    } while (atributo2 < 1 || atributo2 > 4 || atributo2 == atributo1);

    // Obtendo valores dos atributos
    float valor1A = obterValor(carta1, atributo1);
    float valor2A = obterValor(carta2, atributo1);
    float valor1B = obterValor(carta1, atributo2);
    float valor2B = obterValor(carta2, atributo2);

    // Comparações individuais
    int res1 = comparar(atributo1, valor1A, valor2A);
    int res2 = comparar(atributo2, valor1B, valor2B);

    // Soma dos atributos
    float soma1 = valor1A + valor1B;
    float soma2 = valor2A + valor2B;

    // Exibição clara do resultado
    printf("\n===== Resultado da Rodada =====\n");
    printf("%-15s vs %-15s\n", carta1.nome, carta2.nome);
    printf("%-25s: %.2f vs %.2f\n", nomeAtributo(atributo1), valor1A, valor2A);
    printf("%-25s: %.2f vs %.2f\n", nomeAtributo(atributo2), valor1B, valor2B);
    printf("%-25s: %.2f vs %.2f\n", "Soma dos atributos", soma1, soma2);

    // Determinar vencedor
    if (soma1 > soma2)
        printf("\nVencedor: %s!\n", carta1.nome);
    else if (soma2 > soma1)
        printf("\nVencedor: %s!\n", carta2.nome);
    else
        printf("\nEmpate!\n");

    return 0;
}
